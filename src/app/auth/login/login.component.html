import { renderHook } from '@testing-library/react-hooks';
import { useGetOnboardingAndEdocsDetails } from './useGetOnboardingAndEdocsDetails';

describe('useGetOnboardingAndEdocsDetails', () => {
  const mockSetAppState = jest.fn();
  
  beforeEach(() => {
    jest.clearAllMocks();
  });

  it('should update app state when query completes with data', async () => {
    // Mock your API response
    const mockApiResponse = {
      onboardingAndEdocsResult: {
        showDocs: false,
        showOnboarding: true,
        someOtherField: "value"
      },
      isOnboardingAndEdocsCallCompleted: true
    };

    // Setup your hook
    const { result } = renderHook(() => 
      useGetOnboardingAndEdocsDetails(mockSetAppState)
    );

    // Get the first update function call
    const firstUpdateFn = mockSetAppState.mock.calls[0][0];
    const firstUpdateResult = firstUpdateFn({});

    // Assert the result matches expected state update
    expect(firstUpdateResult).toEqual({
      onboardingAndEdocsResult: {
        showDocs: false,
        showOnboarding: true,
        someOtherField: "value"
      },
      isOnboardingAndEdocsCallCompleted: true
    });

    // If you need to verify the number of calls
    expect(mockSetAppState.mock.calls.length).toBe(1);
  });
});
